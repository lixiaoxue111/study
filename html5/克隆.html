<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <script>
        var person1 = {
            name:"zhangsan",
            age:"10",
            bobby:["sing","dance"],
            father:{
                name:"zz",
                age:"50"
            }
        };

       /* var person2=person1;
        person1.name="lisi";
        console.log(person2);*/  //输出的name为lisi  因为在数组和对象中，指向堆内存  改一个值 另外的值也会变

        /*var person2 = {};
        for(key in person1){
            person2[key] = person1[key];  //可变的属性用[] 不能用 .
        }
        console.log(person2);
        person1.name = "lisi";
        console.log(person1.name,person2.name);
        person1.father.name = 'zxx';//浅克隆，当对象中还有对象时，相应的值还会改变
        console.log(person2.father.name);*/

        function clone(obj) {  //深克隆：循坏递归
            var resObj={};
            for(key in obj){
                if(obj[key] instanceof Object){
                    resObj[key]=clone(obj[key]);
                }else {
                    resObj[key]=obj[key];
                }
            }return resObj;
        }
        var person2 = clone(person1);
        person1.father.name = 'zxx';
        console.log(person2.father.name);

        //HTML5 实现克隆
        var str = JSON.stringify(person1);
        var person2 = JSON.parse(str);
    </script>
</body>
</html>